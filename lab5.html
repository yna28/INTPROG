<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lab 5: PHP + JSON + AJAX</title>
</head>
<body>

    <h2>Login Form (AJAX Submission)</h2>
    <form id="loginForm">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" required><br><br>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required><br><br>

        <button type="submit">Login</button>
    </form>

    <hr>

    <h3>Server Response:</h3>
    <pre id="responseOutput"></pre>

<script>
document.getElementById('loginForm').addEventListener('submit', function(event) {
    event.preventDefault();

    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    
    const dataToSend = { username, password };

    fetch('process.php', { // or 'lab5.php' if thatâ€™s the correct file
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(dataToSend)
    })
    .then(response => {
        if (!response.ok) {
            return response.json().then(err => { 
                throw new Error(err.message || 'Server error occurred.');
            });
        }
        return response.json();
    })
    .then(responseData => {
        document.getElementById('responseOutput').textContent = JSON.stringify(responseData, null, 2);
    })
    .catch(error => {
        document.getElementById('responseOutput').textContent = Error: ${error.message};
        console.error('Fetch error:', error);
    });
});
</script>


</body>
</html>
